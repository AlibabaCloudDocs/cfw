# 【虚拟补丁】Windows SMBv3远程代码执行（CVE-2020-0796）

由于Microsoft Windows SMBv3协议中存在一处远程代码执行漏洞（漏洞CVE编号为CVE-2020-5405），微软安全中心在2020年3月12日23时发布了影响Windows系统的SMBv3远程代码执行漏洞的修复补丁。

该漏洞发生在`srv2.sys`中。由于SMBv3没有正确处理压缩的数据包，解压数据包时使用了客户端传输的长度进行解压，并没有检查长度是否合法，最终导致整数溢出。这种情况下，未经身份验证的远程攻击者可以通过构造恶意请求在Windows Server服务器上执行命令。

漏洞影响范围：

-   Windows Server, version 1909（Server Core installation）
-   Windows Server, version 1903（Server Core installation）
-   Windows 10 Version 1903 for 32-bit Systems
-   Windows 10 Version 1903 for x64-based Systems
-   Windows 10 Version 1903 for ARM64-based Systems
-   Windows 10 Version 1909 for 32-bit Systems
-   Windows 10 Version 1909 for x64-based Systems
-   Windows 10 Version 1909 for ARM64-based Systems

漏洞危险等级：高危

规则防护：云防火墙虚拟补丁已支持防护

规则类型：命令执行

安全建议：

-   您可以安装修复补丁，具体请参见[Windows官方说明](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2020-0796)。
-   使用云防火墙的入侵防御功能进行安全防护。

